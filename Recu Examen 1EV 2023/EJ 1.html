<!DOCTYPE html>
<html>

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Recuperación FORMULARIOS</title>
        <link rel="stylesheet" href="main.css">
        <style type="text/css">
                #otro {
                        display: none;
                }
        </style>
</head> 


<body>
        <h1>LEARNING ABACO</h1>
        Esta es nuestra selección de CURSOS Certificados
        <br><br>
        <input type="checkbox" id="prog">PROGRAMACION
        <select id="selprog">
                <option value="0">Selecciona</option>
                <option value="200">Java</option>
                <option value="80">PHP</option>
                <option value="120">Python</option>
                <option value="90">JavaScript</option>
        </select>
        <br><br>
        <input type="checkbox" id="sql" value="100">MySQL
        <br><br>
        <input type="checkbox" id="web">DISEÑO WEB
        <select id="selweb">
                <option value="0">Selecciona</option>
                <option value="80">HTML</option>
                <option value="90">CSS</option>
                <option value="60">Bootstrap</option>
        </select>
        <br>
        <br> Teclee la fecha en la que quiere comenzar sus curso
        <br> (dd/mm/aaaa entre el día de hoy y 30 días, de lunes a viernes)
        <input type="date" id="fec" size=10 placeholder="dd/mm/aaaa">
        <hr>
        <input type="button" value="Mostrar Precio y Duración" onclick="calcular()">
        <br> <br>PRECIO <input type="text" id="precio" size=10 readonly>
        <br> <br>DURACIÓN <input type="text" id="duracion" size=10 readonly>
        </div>
        <hr>
        <div id="otro">
                Si dispones de un código descuento indícalo: <input type="text" id="codigo" size=10>
                Teléfono de contacto: <input type="text" id="codigo" size=12 placeholder="(XXX)-XXX-XXX">
        </div>

        <script>
let precio = 0
let duracion = 0;

const prog = document.getElementById("prog");
const sql = document.getElementById("sql");
const web = document.getElementById("web");
const selprog = document.getElementById("selprog");
const selweb = document.getElementById("selweb");

function comprobarEleccion(){
        
        
        if (!prog.checked && !sql.checked && !web.checked){
                alert("Debes seleccionar una materia minimo");
                return;
        }

        if (prog.checked && selprog.value == "0"){
                alert("Selecciona algun lenguaje de programacion");
                return;
        }


        if (web.checked && selweb.value == "0"){
                alert("Selecciona algun lenguaje web");
                return;
        }

        if (selprog.value !== "0" && !prog.checked) {
                alert("Debes seleccionar la casilla de PROGRAMACION si eliges un lenguaje de programación.");
                return;
        }

        if (selweb.value !== "0" && !web.checked) {
                alert("Debes seleccionar la casilla de WEB si eliges un lenguaje de web.");
                return;
        }
}

function validarFecha() {
    fecha = document.getElementById("fec").value;    
    // Obtener la fecha actual
    let hoy = new Date();
    
    // Convertir la fecha introducida en un objeto Date
    let fechaIntroducida = new Date(fecha);
    
    // Calcular la fecha límite (hoy + 30 días)
    let fechaLimite = new Date(hoy);
    fechaLimite.setDate(hoy.getDate() + 30);
    
    // Verificar que la fecha esté dentro del rango (hoy y dentro de 30 días)
    if (fechaIntroducida < hoy || fechaIntroducida > fechaLimite) {
        alert("La fecha debe estar entre hoy y dentro de 30 días.");
        return false;
    }
    
    // Verificar que no sea sábado (6) ni domingo (0)
    let diaSemana = fechaIntroducida.getDay();
    if (diaSemana === 0 || diaSemana === 6) {
        alert("La fecha no puede ser un sábado ni un domingo.");
        return false;
    }
    
    return true;
}


function calcularPrecio(){
        precio = 0;
        precio+= parseFloat(selprog.value) + parseFloat(selweb.value) + parseFloat(sql.value);
        document.getElementById("precio").value = precio + "€"
}

function calcular(){
comprobarEleccion();    
validarFecha();
calcularPrecio();
}
function comprobar_tfno(e){
}
function comprobar_codigo(e){
}
</script>
</body>

</html>