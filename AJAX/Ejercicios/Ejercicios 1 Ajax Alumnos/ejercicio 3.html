<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/
xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta charset="UTF-8">
		<title>EJERCICIO 3 </title>
		<link rel="stylesheet" href="main.css">
</head>

<script type="text/javascript">

let empleados = []

var arr;		
function descargaArchivo() {
		// Obtener la instancia del objeto XMLHttpRequest		
				peticion_http = new XMLHttpRequest();	
		// Preparar la funcion de respuesta
				peticion_http.onreadystatechange = muestraContenido;
		// Realizar peticion HTTP
				peticion_http.open('GET', 'empleados.json', true);
				peticion_http.send(null);
			function muestraContenido() {
				if(peticion_http.readyState == 4) {
					if(peticion_http.status == 200) {
						var arr = JSON.parse(peticion_http.responseText);
						var out = "";
						var i;
						for(i = 0; i < arr.length; i++) {
								empleados.push(arr[i])
						}
						document.getElementById("id1").innerHTML = out;
		
			 
					}
				}
			}
		}
function cargarDatos(){
	let sel = document.getElementById("sel1").value;
    console.log(sel);
    document.getElementById("ul1").innerHTML = ""
    switch(sel){
        
        case "1":
            for(let i = 0; i<empleados.length;i++){
                var li = document.createElement("li");
                li.innerHTML = empleados[i].departamento + " " +  empleados[i].nombre + " " + empleados[i].apellido;
                document.getElementById("ul1").appendChild(li);
            }
            break;
        case "2":
            for(let i = 0; i<empleados.length;i++){
                var li = document.createElement("li");
                li.innerHTML = empleados[i].departamento + " " +  empleados[i].nombre + " " + empleados[i].apellido + " " + empleados[i].salario;
                document.getElementById("ul1").appendChild(li);
            }       
    }
}
				
</script>
</head>
<body onload="descargaArchivo()">
<div id="titulo"> <h1> EMPLEADOS</h1> </div>
<select id="sel1" onchange="cargarDatos()">
<option value="0">Selecciona</option>
<option value="1">Datos sin salario</option>
<option value="2">Datos con salario</option>
</select>
<br><br>
<ul id="ul1">

</ul>
</body>
</html>