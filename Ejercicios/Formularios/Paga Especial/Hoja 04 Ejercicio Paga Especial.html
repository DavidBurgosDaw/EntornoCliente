<!DOCTYPE html>
<html>
<head>
 <title>Formulario Paga Especial</title>
 <link rel="stylesheet" type="text/css" href="stylenomina.css">
</head>
<body>
    <h1>Formulario de Paga Especial</h1>
    <form id="formulario">
        <label >Nombre:</label>
        <input type="text" id="nombre"  > 
        <label >Apellidos:</label>
        <input type="text" id="apellidos" ><br><br>

        <label >Año de Nacimiento:</label>
        <input type="text" id="anoNacimiento" size="6">

        <label >Año de Entrada a la Empresa:</label>
        <input type="text" id="anoEntrada" size="6" ><br><br>

        <label >Salario Base:</label>
        <input type="text" id="salarioBase" ><br><br>

        <label >Sucursal:</label>
        <select id="sucursal">
            <option value="0">Seleccione una opción</option>
            <option value="100">Madrid</option>
            <option value="60">Alcobendas</option>
            <option value="50">San Sebastián de los Reyes</option>
        </select><br><br>

        <label>Tipo de IRPF:</label><br>
        <input type="radio"  name="irpf" value="19"> 19%
        <input type="radio"  name="irpf" value="24"> 24%
        <input type="radio"  name="irpf" value="30"> 30%<br><br>

        <label >¿Desea recibir correo electrónico?</label>
        <input type="checkbox" id="correo"><br><br>

        <button type="button" onclick="validarFormulario()">Validar</button>
        
        <div id="resultado"></div>

    </form>
    
    <script>
        function validarFormulario(){
            //Valido nombre
            let nombre = document.getElementById("nombre").value.trim();
            
            //Valido que Nombre no este vacio
            if(nombre == ""){
                alert("Nombre esta vacio")
                document.getElementById("nombre").focus();
                return;
            }
            
            //Valido Longitud del Nombre
            if(nombre.length < 3){
                alert("El nombre debe tener minimo 3 caracteres")
                document.getElementById("nombre").focus();
                return;
            }


            //Valido apellido
            let apellidos = document.getElementById("apellidos").value.trim();

            //Valido que apellido no este vacio
            if(apellidos == ""){
                alert("Apellido esta vacio")
                document.getElementById("apellidos").focus();
                return;
            }
            
            //Valido Longitud del Apellidos
            if(apellidos.length < 3){
                alert("El apellido debe tener minimo 3 caracteres")
                document.getElementById("apellidos").focus();
                return;
            }

            //Valido Año de Nacimiento
            let anoNacimiento = document.getElementById("anoNacimiento").value.trim();

            //Compruebo si es entero el año
            if(isNaN(anoNacimiento)){
                alert("El año de nacimiento no es numero");
                document.getElementById("anoNacimiento").focus();
                return;
            }

            if( parseInt(anoNacimiento) % 1 != 0){
                alert("El año de nacimiento no es entero");
                document.getElementById("anoNacimiento").focus();
                return;
           }

           //Compruebo año del sistema
           let anoSistema = new Date().getFullYear();

           if ( parseInt(anoNacimiento) > anoSistema){
            alert("El año de nacimiento no puede ser mayor al del sistema");
                document.getElementById("anoNacimiento").focus();
                return;
           }

           //Compruebo que año de entrada no este vacio
           let anoEntrada = document.getElementById("anoEntrada").value.trim();

           if(anoEntrada == ""){
                alert("Año entrada esta vacio")
                document.getElementById("anoEntrada").focus();
                return;
           }

           if(!parseInt(anoEntrada) % 1 == 0){
                alert("El año de entrada no es un numero entero")
                document.getElementById("anoEntrada").focus();
                return;
           }


            
        }

    </script>

</body>
</html>
